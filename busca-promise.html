<!DOCTYPE html>
<html lang="en">

<head>
    <title>Document</title>
</head>

<body>

</body>

<script>
    // Função assíncrona para buscar o CEP
    const buscaCep = async () => {

        // url do endpoint da api
        const viacep_url = "https://viacep.com.br/ws/01001000/json/"

        //tentar resolver a promessa do fetch()
        try {

            //recebe o retorno da busca na API
            const endereco = await fetch(viacep_url)

            //transforma pra json o resultado da consulta
            const json_endereco = await endereco.json()

            //imprime o resultado da consulta
            console.log(json_endereco)

            // retorna para outra função o resultado da promessa
            return json_endereco


        } catch (err) {
            console.log(err)
        }

    }

    const imprimeRua = async () => {

        // recebendo o resultado do retorno da função buscaCep()
        const json_end = await buscaCep()

        console.log("RUA Async/Await: ", json_end.logradouro)

        await imprimeCidade(json_end)
    }

    const imprimeCidade = async (json_end) => {


        console.log("CIDADE Async/Await: ", json_end.localidade)

    }

    imprimeRua()

</script>

</html>